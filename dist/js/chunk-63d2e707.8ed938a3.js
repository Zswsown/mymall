(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63d2e707"],{"069d":function(t,s,e){t.exports=e.p+"img/cancel.e50e9852.svg"},"62f8":function(t,s,e){"use strict";var c=e("dd96"),a=e.n(c);a.a},"8a7b":function(t,s,e){},"8dec":function(t,s,e){},"8f3d":function(t,s,e){"use strict";var c=e("ac5e"),a=e.n(c);a.a},"9c26":function(t,s,e){"use strict";var c=e("8a7b"),a=e.n(c);a.a},a6c0:function(t,s,e){"use strict";e.r(s);var c=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"shopcart"}},[e("nav-bar",{staticClass:"shopcartNav"},[e("div",{staticClass:"shopcartNavLeft",attrs:{slot:"nav-left"},slot:"nav-left"},[t._v("购物车")]),e("div",{staticClass:"shopcartNavRight",attrs:{slot:"nav-right"},on:{click:t.deleteClick},slot:"nav-right"},[t._v(t._s(t.navBarRightText))])]),e("scroll",{ref:"scroll",staticClass:"shopcarContent"},[e("shopcart-list",{attrs:{"shopcart-list":t.shopcartList}})],1),e("shopcart-bottom-bar",{attrs:{"is-nav-active":t.isNavActive}})],1)},a=[],i=e("a7ac"),o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"shopcartList"},t._l(t.shopcartList,(function(t,s){return e("shopcart-list-item",{key:s,attrs:{shopcartGoodsItem:t}})})),1)},l=[],n=function(){var t=this,s=t.$createElement,c=t._self._c||s;return c("div",{attrs:{id:"shop-item"}},[c("div",{staticClass:"item-selector"},[c("CheckButton",{on:{checkBtnClick:t.checkedChange},model:{value:t.shopcartGoodsItem.checked,callback:function(s){t.$set(t.shopcartGoodsItem,"checked",s)},expression:"shopcartGoodsItem.checked"}})],1),c("div",{staticClass:"item-img"},[c("img",{attrs:{src:t.shopcartGoodsItem.image,alt:"商品图片"}})]),c("div",{staticClass:"item-info"},[c("div",{staticClass:"item-title"},[t._v(t._s(t.shopcartGoodsItem.title))]),c("div",{staticClass:"item-desc"},[c("span",[t._v("商品描述: "+t._s(t.shopcartGoodsItem.desc))])]),c("div",{staticClass:"info-bottom"},[c("div",{staticClass:"item-price"},[t._v("¥"),c("span",[t._v(t._s(t.shopcartGoodsItem.price))])]),c("div",{directives:[{name:"show",rawName:"v-show",value:!t.isCountClick,expression:"!isCountClick"}],staticClass:"item-count",on:{click:t.countClick}},[t._v("x"+t._s(t.shopcartGoodsItem.count))]),c("div",{directives:[{name:"show",rawName:"v-show",value:t.isCountClick,expression:"isCountClick"}],staticClass:"item-countHidden"},[c("button",{staticClass:"decrease",on:{click:t.decrease}},[c("span",[t._v("-")])]),c("span",{staticClass:"inputCount"},[t._v(t._s(t.shopcartGoodsItem.count))]),c("button",{staticClass:"increase",on:{click:t.increase}},[c("span",[t._v("+")])]),c("div",{staticClass:"cancleIcon",on:{click:t.countClick}},[c("img",{attrs:{src:e("069d"),alt:""}})])])])])])},r=[],h=function(){var t=this,s=t.$createElement,c=t._self._c||s;return c("div",[c("div",{staticClass:"icon-selector",class:{"selector-active":t.checked},on:{click:t.selectItem}},[c("img",{attrs:{src:e("c96d"),alt:""}})])])},d=[],u={name:"CheckButton",props:{value:{type:Boolean,default:!1}},data(){return{checked:this.value}},methods:{selectItem(){this.$emit("checkBtnClick")}},watch:{value:function(t){this.checked=t}}},v=u,p=(e("db77"),e("2877")),m=Object(p["a"])(v,h,d,!1,null,"13087dcd",null),C=m.exports,k={name:"ShopcartListItem",props:{shopcartGoodsItem:{type:Object,default(){return{}}}},data(){return{isCountClick:!1}},components:{CheckButton:C},methods:{checkedChange:function(){this.shopcartGoodsItem.checked=!this.shopcartGoodsItem.checked},countClick(){this.isCountClick=!this.isCountClick},decrease(){this.shopcartGoodsItem.count>1?this.$store.dispatch("decreaseGoodCount",this.shopcartGoodsItem):1===this.shopcartGoodsItem.count&&(document.getElementsByClassName(".decrease").disabled=!0)},increase(){1===this.shopcartGoodsItem.count&&(document.getElementsByClassName(".decrease").disabled=!1),this.$store.dispatch("increaseGoodCount",this.shopcartGoodsItem)}}},f=k,w=(e("62f8"),Object(p["a"])(f,n,r,!1,null,"9c3c96e0",null)),A=w.exports,N={name:"ShopcartList",components:{ShopcartListItem:A},props:{shopcartList:{type:Array,default(){return[]}}}},_=N,g=Object(p["a"])(_,o,l,!1,null,"3ac4ea90",null),b=g.exports,G=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"shopcartBottomBar"}},[e("check-button",{staticClass:"checkAll",attrs:{value:t.isSelectAll},nativeOn:{click:function(s){return t.selectAllClick(s)}}}),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isNavActive,expression:"!isNavActive"}],staticClass:"totalPrice"},[e("span",{staticClass:"totalPriceTitle"},[t._v("合计:")]),e("span",{staticClass:"totalPriceNum"},[t._v(t._s(t.totalPrice))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isNavActive,expression:"!isNavActive"}],staticClass:"countAll",on:{click:t.toCountAll}},[e("span",{staticClass:"countAllText"},[t._v("结算")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.isCountAllNumShow,expression:"isCountAllNumShow"}],staticClass:"countAllNum"},[t._v(t._s(t.countAll))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isNavActive,expression:"isNavActive"}],staticClass:"delete",on:{click:t.deleteGoods}},[e("span",{staticClass:"deleteText"},[t._v("删除")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.isCountAllNumShow,expression:"isCountAllNumShow"}],staticClass:"countAllNum"},[t._v(t._s(t.countAll))])])],1)},L=[],x=e("2f62"),I={name:"ShopcartBottomBar",components:{CheckButton:C},data(){return{isCountAllNumShow:!1,deleteGoodsList:[]}},props:{isNavActive:{type:Boolean,default(){return!1}}},computed:{...Object(x["b"])(["shopcartList"]),totalPrice(){let t=this.shopcartList.filter(t=>t.checked);if(t.length>0){let s=t.reduce((t,s)=>t+s.count*s.price,0);return"￥"+s.toFixed(2)}return"￥0"},countAll(){let t=this.shopcartList.filter(t=>t.checked).length;if(0!==t)return this.isCountAllNumShow=!0,"("+t+")";this.isCountAllNumShow=!1},isSelectAll(){return 0!==this.shopcartList.length&&!this.shopcartList.filter(t=>!t.checked).length}},methods:{selectAllClick(){this.isSelectAll?this.shopcartList.forEach(t=>t.checked=!1):this.shopcartList.forEach(t=>t.checked=!0)},toCountAll(){0===this.shopcartList.length?this.$toast.show("购物车为空",1e3):this.shopcartList.filter(t=>t.checked).length?this.$toast.show("购买成功",1e3):this.$toast.show("未选择购买商品",1e3)},deleteGoods(){this.deleteGoodsList=this.shopcartList.filter(t=>t.checked),0!==this.deleteGoodsList.length?this.$store.dispatch("deleteGoods",this.deleteGoodsList).then(t=>{this.$toast.show(t,300)}):this.$toast.show("请先选择要删除的商品","300")}}},B=I,S=(e("9c26"),Object(p["a"])(B,G,L,!1,null,"4e56281e",null)),$=S.exports,E=e("5d17"),O={name:"Shopcart",components:{NavBar:i["a"],ShopcartList:b,ShopcartBottomBar:$,Scroll:E["a"]},computed:{...Object(x["b"])(["shopcartListLength","shopcartList"])},data(){return{isNavActive:!1,navBarRightText:"管理"}},deactivated(){this.isNavActive=!1,this.navBarRightText="管理"},updated(){this.$bus.$on("shopcartScrollRefresh",this.$refs.scroll.refresh())},methods:{deleteClick(){this.isNavActive=!this.isNavActive,this.isNavActive?this.navBarRightText="完成":this.navBarRightText="管理"}}},j=O,y=(e("8f3d"),Object(p["a"])(j,c,a,!1,null,"5fc9660d",null));s["default"]=y.exports},ac5e:function(t,s,e){},c96d:function(t,s,e){t.exports=e.p+"img/tick.5228ea23.svg"},db77:function(t,s,e){"use strict";var c=e("8dec"),a=e.n(c);a.a},dd96:function(t,s,e){}}]);
//# sourceMappingURL=chunk-63d2e707.8ed938a3.js.map